{
  "version": 3,
  "sources": ["../../../lib/component/omni-app-layout/omni-app-layout.ts"],
  "sourcesContent": ["import { html } from 'lit';\nimport { property, state } from 'lit/decorators.js';\nimport { OmniElement } from '../../omni-element.js';\nimport '../omni-style/omni-style.js';\n\nimport {css} from 'lit';\nconst styles = css`#grid{display:grid;grid-template-rows:var(--omni-app-layout-header-height, 3.5714285714rem) 1fr;grid-template-columns:var(--omni-app-layout-drawer-closed-width, 5.3571428571rem) calc(var(--omni-app-layout-drawer-width, 21.4285714286rem) - var(--omni-app-layout-drawer-closed-width, 5.3571428571rem)) 1fr var(--omni-app-layout-end-drawer-width, 21.4285714286rem);width:-moz-fit-content;width:fit-content}#header{grid-row:1;grid-column:1/-1;position:sticky;top:var(--omni-app-layout-top, 0rem);left:var(--omni-app-layout-left, 0rem);width:calc(var(--vw, 1vw)*100 - var(--omni-app-layout-left, 0rem));z-index:var(--omni-app-layout-header-z-index, 36);background:var(--omni-app-layout-header-bg, var(--omni-app-layout-header-bg-color, #fff));box-shadow:0 0.0714285714rem var(--color-pale-grey-two)}slot[name=header]::slotted(*){height:100%}#drawer,#end-drawer{grid-row:2;position:sticky;top:calc(var(--omni-app-layout-top, 0rem) + var(--omni-app-layout-header-height, 3.5714285714rem));height:calc(var(--omni-app-layout-height, calc(var(--vh, 1vh) * 100 - var(--omni-app-layout-top, 0rem))) - var(--omni-app-layout-header-height, 3.5714285714rem));overflow-y:auto;overflow-x:hidden;box-shadow:0 0.7142857143rem 4.2857142857rem -0.3571428571rem rgba(1,33,78,.08)}#drawer{left:var(--omni-app-layout-left, 0rem);background:var(--omni-app-layout-drawer-bg, var(--omni-app-layout-drawer-bg-color, var(--gradient-black)));z-index:var(--omni-app-layout-drawer-z-index, 32)}#end-drawer{right:0;grid-column:4;background:var(--omni-app-layout-end-drawer-bg, var(--omni-app-layout-end-drawer-bg-color, #fff));z-index:var(--omni-app-layout-end-drawer-z-index, 34)}#content{width:100%;grid-row:2;background:var(--omni-app-layout-bg, var(--omni-app-layout-bg-color, #f1f5fa))}:host(:not([draweropen])) #drawer{grid-column:1}:host([draweropen]) #drawer{grid-column:1/span 2}:host(:not([draweropen])) #content{grid-column:2/span 3}:host([draweropen]) #content{grid-column:3/span 2}:host(:not([enddraweropen])) #end-drawer{position:relative;top:0;right:calc(-1*var(--omni-app-layout-end-drawer-width, 21.4285714286rem) - 0.0714285714rem);width:0}:host([enddraweropen]) #end-drawer{width:auto}:host(.drawer-closing) #drawer{grid-column:1/span 2 !important}:host(.end-drawer-opening),:host(.end-drawer-closing){overflow:hidden}:host(.end-drawer-closing) #end-drawer{width:auto !important}:host(.drawer-opening) #content{min-width:calc(100% + var(--omni-app-layout-drawer-width, 21.4285714286rem) - var(--omni-app-layout-drawer-closed-width, 5.3571428571rem)) !important}:host(.drawer-opening) #content,:host(.drawer-closing) #content{z-index:calc(1 + var(--omni-app-layout-drawer-z-index, 32))}:host(.parent-drawer-opening) #end-drawer,:host(.parent-drawer-closing) #end-drawer{right:unset !important}`\n\n\n// FLIP Animate - https://aerotwist.com/blog/flip-your-animations/\nfunction flipAnimateX(target, first, last) {\n  const deltaX = first.left - last.left;\n  return target.animate([{ transform: `translateX(${deltaX}px)` }, { transform: 'unset' }], {\n    duration: 300,\n    easing: 'ease-in-out'\n  });\n}\n\n/**\n * To include within your project `import { OmniAppLayoutElement } from 'omni-ui';`\n *\n * @tagname omni-app-layout\n * @slot - default slot for main content\n * @slot header - slot for header content\n * @slot drawer - slot for left drawer content\n * @slot end-drawer - slot for end drawer content\n *\n * @cssprop [--omni-app-layout-header-height=50px] - Height of the header\n * @cssprop [--omni-app-layout-drawer-width=300px] - Width of the left drawer\n * @cssprop [--omni-app-layout-drawer-closed-width=75px] - Width of the left drawer when closed\n * @cssprop [--omni-app-layout-end-drawer-width=300px] - Width of the right drawer\n * @cssprop [--omni-app-layout-bg=#f1f5fa] - Background color of the app layout\n * @cssprop [--omni-app-layout-header-bg=#fff] - Background color ttof the header\n * @cssprop [--omni-app-layout-drawer-bg=var(--gradient-black)] - Background color of the left drawer\n * @cssprop [--omni-app-layout-end-drawer-bg=#fff] - Background color of the right drawer\n * @cssprop [--omni-app-layout-height=100vh] - Height of the app layout (nested layout)\n * @cssprop [--omni-app-layout-top=0px] - Top position of the app layout (nested layout)\n * @cssprop [--omni-app-layout-left=0px] - Left position of the app layout (nested layout)\n * @cssprop [--omni-app-layout-drawer-z-index=32] - Z-index of the left drawer (nested layout)\n * @cssprop [--omni-app-layout-end-drawer-z-index=34] - Z-index of the right drawer (nested layout)\n * @cssprop [--omni-app-layout-header-z-index=36] - Z-index of the header (nested layout)\n */\nexport class OmniAppLayoutElement extends OmniElement {\n  static get styles() {\n    return [...super.styles, styles];\n  }\n\n  /** @internal */\n  @state() _grid: HTMLElement;\n  /** @internal */\n  @state() _content: HTMLElement;\n  /** @internal */\n  @state() _endDrawer: HTMLElement;\n  /** @attr ?drawerOpen - specify whether left side drawer is to be expanded/collapsed */\n  @property({ type: Boolean, reflect: true }) drawerOpen: boolean = false;\n  /** @attr ?endDrawerOpen - specify whether right side drawer is to be expanded/collapsed */\n  @property({ type: Boolean, reflect: true }) endDrawerOpen: boolean = false;\n\n  static computeViewportDims() {\n    const vh = window.innerHeight * 0.01;\n    const vw = window.innerWidth * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n    document.documentElement.style.setProperty('--vw', `${vw}px`);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // only need one, remove others\n    window.removeEventListener('resize', OmniAppLayoutElement.computeViewportDims);\n    window.addEventListener('resize', OmniAppLayoutElement.computeViewportDims);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener('resize', OmniAppLayoutElement.computeViewportDims);\n  }\n\n  firstUpdated() {\n    document.body.style.margin = '0px';\n    OmniAppLayoutElement.computeViewportDims();\n    this._grid = this.shadowRoot.getElementById('grid');\n    this._content = this.shadowRoot.getElementById('content');\n    this._endDrawer = this.shadowRoot.getElementById('end-drawer');\n  }\n\n  update(changedProps) {\n    if (changedProps.has('drawerOpen') && changedProps.get('drawerOpen') != null) {\n      const first = this._content.getBoundingClientRect();\n      super.update(changedProps);\n      const last = this._content.getBoundingClientRect();\n      const nestedLayout = this.querySelector('omni-app-layout');\n      this.classList.add(`drawer-${this.drawerOpen ? 'opening' : 'closing'}`);\n      if (nestedLayout) {\n        nestedLayout.classList.add(`parent-drawer-${this.drawerOpen ? 'opening' : 'closing'}`);\n      }\n      // Reset horizontal scroll so z-index aspects of drawer animation look as as expected\n      window.scrollTo({ left: 0 });\n      flipAnimateX(this._content, first, last).addEventListener(\n        'finish',\n        () => {\n          this.classList.remove('drawer-opening', 'drawer-closing');\n          if (nestedLayout) nestedLayout.classList.remove('parent-drawer-opening', 'parent-drawer-closing');\n        },\n        { once: true }\n      );\n    } else if (changedProps.has('endDrawerOpen') && changedProps.get('endDrawerOpen') != null) {\n      const first = this._endDrawer.getBoundingClientRect();\n      super.update(changedProps);\n      const last = this._endDrawer.getBoundingClientRect();\n      const nestedLayout = this.querySelector('omni-app-layout');\n\n      this.classList.add(`end-drawer-${this.endDrawerOpen ? 'opening' : 'closing'}`);\n      if (nestedLayout) {\n        nestedLayout.classList.add(`parent-end-drawer-${this.endDrawerOpen ? 'opening' : 'closing'}`);\n      }\n      flipAnimateX(this._endDrawer, first, last).addEventListener(\n        'finish',\n        () => {\n          this.classList.remove('end-drawer-opening', 'end-drawer-closing');\n          if (nestedLayout) nestedLayout.classList.remove('parent-end-drawer-opening', 'parent-end-drawer-closing');\n        },\n        { once: true }\n      );\n    } else {\n      super.update(changedProps);\n    }\n  }\n\n  render() {\n    return html`\n      <omni-style>\n        <div id=\"grid\" part=\"grid\">\n          <div id=\"header\" part=\"header\"><slot name=\"header\"></slot></div>\n          <div id=\"drawer\" part=\"drawer\"><slot name=\"drawer\"></slot></div>\n          <div id=\"content\" part=\"content\"><slot></slot></div>\n          <div id=\"end-drawer\" part=\"end-drawer\"><slot name=\"end-drawer\"></slot></div>\n        </div>\n        <!-- <div id=scrim part=\"scrim\"></div> -->\n        <!-- <div id=dialog part=\"dialog\"><slot name=dialog></slot></div> -->\n      </omni-style>\n    `;\n  }\n}\n\nOmniElement.register('omni-app-layout', OmniAppLayoutElement);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'omni-app-layout': OmniAppLayoutElement;\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
