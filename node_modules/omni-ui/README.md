# Omni-UI

Promoting consistency in presentation and behavior while enabling code reuse across the Omni platform via a CSS framework and component toolkit.

## User Onboarding

**Annalect Support Tickets**

-   Read access to annalect/omni-ui bitbucket repository
-   Access to [Omni-UI JIRA software board (OU)](https://annalect.atlassian.net/jira/software/projects/OU/boards/645) to file bug reports and request features and improvements

**Usage**

To install Omni-UI in your project:

`npm install --save bitbucket:annalect/omni-ui#semver:~7.21.2`

## Developer Quickstart

```shell
# test npm version, if version < 7 run 'npm install -g npm@latest'
npm --version

# install exact dependencies and set up git hooks
npm ci

# (optional) install dependencies while omitting CLI libraries
npm ci --omit=optional

# run demo site locally
npm run dev
```

## Component Generation

Omni-Ui can help you generate components for your project that extend the `OmniElement` base class. A project with an Omni-UI version >= 6.12.0 can generate a JavaScript or TypeScript starter component from the command line via `npx omni-ui create-component <path>`. The path must include the component file name, so `npx omni-ui create-component src/components/new-component.js` would create a new JavaScript starter component in the specified directory named `new-component.js`. The command is sensitive to the file extension given. Write a `.ts` file to get a TypeScript starter component and a `.js` file to get an JavaScript starter component.

## New to Omni-UI/Lit

Omni-UI is built from the [set of web standards](https://github.com/WICG/webcomponents#readme) that define web components (custom elements). If you are unfamiliar with web components a good place to start is [MDN's wc guide](https://developer.mozilla.org/en-US/docs/Web/Web_Components). Next read through the Lit [documentation](https://lit.dev/docs/) and try a few of their [tutorials](https://lit.dev/tutorials/). Lit is the templating library we use to build components that make up Omni-UI. Understanding the concepts behind web components, such as, the Custom Elements API, the shadow DOM, and HTML templating, as well as familiarity with building components using Lit will give you the base knowledge you need to successfully use Omni-UI in your projects.

For further information take a look at our [documentation guide](./doc/documentation.md).

Omni-UI uses [Constructable Stylesheets](https://web.dev/constructable-stylesheets/) to provide our CSS framework. Constructable Stylesheets are supported in Chrome, recently supported in Firefox, but Safari doesn't support them at all. You will need to polyfill them with [construct-style-sheets-polyfill](https://github.com/calebdwilliams/construct-style-sheets). Install the polyfill into your dependencies with `npm install --save construct-style-sheet-polyfill`.

Import order matters. The polyfill must be imported before any Omni-UI components. Import at the very top of your `index.js` entrypoint or the root component of your application.

**Change Log**

View the [change log](./CHANGELOG.md) to see groups of changes associated with each Omni-UI version.

**Contributing**

We encourage contributions to the project. To contribute see our [contributing guide](./CONTRIBUTING.md).

## Supporting Documentation

**Dependencies**

-   [@generic-components/components/generic-switch](https://github.com/thepassle/generic-components/blob/master/generic-switch/README.md) - unstyled toggle switch component
-   [@vaadin/a11y-base](https://github.com/vaadin/web-components/tree/main/packages/a11y-base) - trap focus within a given DOM node with the focus trap controller
-   [construct-style-sheets](https://github.com/calebdwilliams/construct-style-sheets) - constructable stylesheets specification polyfill
-   [DOMPurify](https://github.com/cure53/DOMPurify) - sanitize HTML before calling unsafeHTML to protect against XSS
-   [element-internals-polyfill](https://github.com/calebdwilliams/element-internals-polyfill) - element internals specification polyfill
-   [Lit](https://lit.dev/) - web components template rendering library
-   [more-bar](https://github.com/pinkhominid/more-bar) - responsive behavior added to web toolbars

**Optional Dependencies**

Dependencies needed to run the CLI tool. Unneeded in CI/CD pipelines and can be omitted by running `npm ci --omit=optional`.

-   [jscodeshift](https://github.com/facebook/jscodeshift) - JS/TS code modification toolkit
-   [minimist](https://github.com/minimistjs/minimist) - process argument parsing
-   [plop](https://plopjs.com/) - consistent source file generation

**Development Dependencies**

-   [browserslist](https://github.com/browserslist/browserslist) - targeted browser list used by tooling
-   [concurrently](https://github.com/open-cli-tools/concurrently) - run multiple npm scripts simultaneously
-   [ESLint](https://eslint.org) - static analysis to find and fix JavaScript problems
-   [eslint-config-prettier](https://github.com/prettier/eslint-config-prettier) - turn off linting rules that conflict with prettier
-   [eslint-plugin-compat](https://github.com/amilajack/eslint-plugin-compat) - linting for browser compatible code patterns
-   [eslint-plugin-html](https://github.com/BenoitZugmeyer/eslint-plugin-html) - apply linting rules to inline scripts in html
-   [eslint-plugin-lit](https://github.com/43081j/eslint-plugin-lit) - linting rules for Lit templating library
-   [eslint-plugin-lit-a11y](https://open-wc.org/docs/linting/eslint-plugin-lit-a11y/overview/) - linting rules for accessibility in lit components
-   [eslint-plugin-wc](https://github.com/43081j/eslint-plugin-wc) - linting rules for custom elements (web components)
-   [husky](https://github.com/typicode/husky) - easily setup git hooks
-   [ignore-sync](https://github.com/foray1010/ignore-sync) - build and sync .ignore files
-   [lint-staged](https://github.com/okonet/lint-staged) - execute scripts on staged files via git pre-commit hook
-   [prettier](https://prettier.io/) - low configuration opinionated code formatter
-   [rimraf](https://github.com/isaacs/rimraf) - platform agnostic file and directory removal
-   [rollup](https://rollupjs.org/) - tree-shaking ES6 module bundler for JavaScript
-   [rollup-plugin-copy](https://github.com/vladshcherbin/rollup-plugin-copy) - copy files and directories
-   [rollup-plugin-html-literals](https://github.com/jleeson/rollup-plugin-html-literals) - minify html and css template literals
-   [@rollup/plugin-node-resolve](https://github.com/rollup/plugins/tree/master/packages/node-resolve) - resolve paths to node modules
-   [@rollup/plugin-replace](https://github.com/rollup/plugins/tree/master/packages/replace) - replace targeted strings
-   [rollup-plugin-summary](https://yousifalraheem.github.io/rollup-plugin-summary/) - summarizes size of rollup build output
-   [@rollup/plugin-terser](https://github.com/rollup/plugins/tree/master/packages/terser) - parse, mangle, and minify JS with terser
-   [stylelint](https://stylelint.io/) - linting for CSS style sheets
-   [stylelint-config-standard-scss](https://github.com/stylelint-scss/stylelint-config-standard-scss) - linting for scss files
-   [TypeScript](https://www.typescriptlang.org/) - strongly typed superset of JavaScript that compiles down to working JavaScript
-   [@typescript-eslint/eslint-plugin](https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/eslint-plugin) - linting for TypeScript codebases
-   [@typescript-eslint/parser](https://github.com/typescript-eslint/typescript-eslint/tree/main/packages/parser) - parses TypeScript code into an ESLint compatible AST
-   [web-dev-server](https://modern-web.dev/docs/dev-server/overview/) - buildless development server
-   [wireit](https://github.com/google/wireit) - additional performance and control for npm scripts

More information is in our [tooling guide](./doc/tooling.md)
